<%= form_with model: [:admin, product], class: "space-y-6" do |form| %>

  <% if product.errors.any? %>
    <div id="error_explanation" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
      <p class="font-bold">Please correct the following errors:</p>
      <ul>
        <% product.errors.full_messages.each do |message| %>
          <li class="mt-1 text-sm"><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :name, class: "sr-only" %>
    <%= form.text_field :name, placeholder: "Product Name", class: "w-full p-3 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-brew-brown text-brew-dark" %>
  </div>

  <div class="field">
    <%= form.label :description, class: "sr-only" %>
    <%= form.text_area :description, placeholder: "Product Description", rows: 4, class: "w-full p-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-brew-brown text-brew-dark" %>
  </div>

  <div class="field">
    <%= form.label :price_cents, "Price (in cents)", class: "block text-sm font-medium text-gray-700" %>
    <%= form.number_field :price_cents, placeholder: "e.g., 2000 for R20.00", class: "mt-1 w-full p-3 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-brew-brown text-brew-dark" %>
  </div>

  <div class="field">
    <%= form.label :stock, "Stock Quantity", class: "block text-sm font-medium text-gray-700" %>
    <%= form.number_field :stock, placeholder: "e.g., 100", class: "mt-1 w-full p-3 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-brew-brown text-brew-dark" %>
  </div>

  <div class="field">
    <%= form.label :category_id, "Category", class: "block text-sm font-medium text-gray-700" %>
    <%= form.collection_select :category_id, Category.all, :id, :name, { prompt: "Select a category" }, class: "mt-1 w-full p-3 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-brew-brown text-brew-dark" %>
  </div>

  <div class="field flex items-center space-x-2">
    <%= form.check_box :active, class: "h-4 w-4 text-brew-brown border-gray-300 rounded focus:ring-brew-brown" %>
    <%= form.label :active, "Active", class: "text-sm text-gray-700" %>
  </div>

  <div class="field">
    <%= form.label :images, "Product Images", class: "block text-sm font-medium text-gray-700" %>
    <% if product.images.attached? %>
      <div class="mt-4 mb-4">
        <%= image_tag product.images.first, class: "w-32 h-32 object-cover rounded-xl shadow-md" %>
      </div>
    <% end %>
    <%= form.file_field :images, multiple: true, class: "mt-1 w-full p-3 text-sm text-gray-50..." %>
  </div>

  <%= form.hidden_field :currency, value: "zar" %>

  <div class="actions">
    <%= form.submit class: "w-full bg-brew-light text-Black font-medium py-3 px-8 rounded-full shadow-lg hover:bg-brew-dark transition-colors duration-300 cursor-pointer" %>
  </div>

<% end %>