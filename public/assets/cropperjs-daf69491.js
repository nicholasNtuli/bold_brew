// cropperjs@2.0.1 downloaded from https://ga.jspm.io/npm:cropperjs@2.0.1/dist/cropper.esm.raw.js

import{isString as e,isElement as r,CROPPER_IMAGE as t,CROPPER_CANVAS as o,CROPPER_SELECTION as n}from"@cropper/utils";export*from"@cropper/utils";import{CropperCanvas as a,CropperCrosshair as p,CropperGrid as c,CropperHandle as i,CropperImage as l,CropperSelection as s,CropperShade as d,CropperViewer as h}from"@cropper/elements";export*from"@cropper/elements";var m='<cropper-canvas background><cropper-image rotatable scalable skewable translatable></cropper-image><cropper-shade hidden></cropper-shade><cropper-handle action="select" plain></cropper-handle><cropper-selection initial-coverage="0.5" movable resizable><cropper-grid role="grid" bordered covered></cropper-grid><cropper-crosshair centered></cropper-crosshair><cropper-handle action="move" theme-color="rgba(255, 255, 255, 0.35)"></cropper-handle><cropper-handle action="n-resize"></cropper-handle><cropper-handle action="e-resize"></cropper-handle><cropper-handle action="s-resize"></cropper-handle><cropper-handle action="w-resize"></cropper-handle><cropper-handle action="ne-resize"></cropper-handle><cropper-handle action="nw-resize"></cropper-handle><cropper-handle action="se-resize"></cropper-handle><cropper-handle action="sw-resize"></cropper-handle></cropper-selection></cropper-canvas>';const u=/^img|canvas$/;const g=/<(\/?(?:script|style)[^>]*)>/gi;const f={template:m};a.$define();p.$define();c.$define();i.$define();l.$define();s.$define();d.$define();h.$define();class Cropper{constructor(o,n){this.options=f;e(o)&&(o=document.querySelector(o));if(!r(o)||!u.test(o.localName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=o;n=Object.assign(Object.assign({},f),n);this.options=n;const{ownerDocument:a}=o;let{container:p}=n;if(p){e(p)&&(p=a.querySelector(p));if(!r(p))throw new Error("The `container` option must be an element or a valid selector.")}r(p)||(p=o.parentElement?o.parentElement:a.body);this.container=p;const c=o.localName;let i="";c==="img"?({src:i}=o):c==="canvas"&&window.HTMLCanvasElement&&(i=o.toDataURL());const{template:l}=n;if(l&&e(l)){const e=document.createElement("template");const r=document.createDocumentFragment();e.innerHTML=l.replace(g,"&lt;$1&gt;");r.appendChild(e.content);Array.from(r.querySelectorAll(t)).forEach((e=>{e.setAttribute("src",i);e.setAttribute("alt",o.alt||"The image to crop")}));if(o.parentElement){o.style.display="none";p.insertBefore(r,o.nextSibling)}else p.appendChild(r)}}getCropperCanvas(){return this.container.querySelector(o)}getCropperImage(){return this.container.querySelector(t)}getCropperSelection(){return this.container.querySelector(n)}getCropperSelections(){return this.container.querySelectorAll(n)}}Cropper.version="2.0.0";export{m as DEFAULT_TEMPLATE,Cropper as default};

